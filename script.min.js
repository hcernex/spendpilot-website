document.addEventListener("DOMContentLoaded",function(){const t=document.querySelector(".theme-toggle"),e=document.documentElement,n=localStorage.getItem("theme")||"dark";e.setAttribute("data-theme",n),t&&t.addEventListener("click",function(){const t="dark"===e.getAttribute("data-theme")?"light":"dark";e.setAttribute("data-theme",t),localStorage.setItem("theme",t)});const o=document.querySelector(".navbar");function s(){window.scrollY>50?o.classList.add("scrolled"):o.classList.remove("scrolled")}window.addEventListener("scroll",s),s();const r=document.querySelector(".mobile-menu-btn"),c=document.querySelector(".nav-links");r&&r.addEventListener("click",function(){const t=this.classList.toggle("active");c.classList.toggle("active"),document.body.classList.toggle("menu-open"),this.setAttribute("aria-expanded",t)}),document.querySelectorAll('a[href^="#"]').forEach(t=>{t.addEventListener("click",function(t){t.preventDefault();const e=document.querySelector(this.getAttribute("href"));if(e){const t=o.offsetHeight,n=e.getBoundingClientRect().top+window.pageYOffset-t-20;window.scrollTo({top:n,behavior:"smooth"}),c&&c.classList.contains("active")&&(r.classList.remove("active"),c.classList.remove("active"),document.body.classList.remove("menu-open"))}})});const a=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&(t.target.classList.add("animate-in"),a.unobserve(t.target))})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});document.querySelectorAll(".problem-card, .step-card, .feature-card, .pricing-card, .proof-card, .stat-item, .resource-category").forEach((t,e)=>{t.style.opacity="0",t.style.transform="translateY(20px)",t.style.transition="opacity 0.4s ease "+.05*e+"s, transform 0.4s ease "+.05*e+"s",a.observe(t)});const i=document.createElement("style");function l(t,e,n){let o=0;const s=e/125,r=setInterval(function(){o+=s,o>=e&&(o=e,clearInterval(r)),t.textContent=Math.round(o)+n},16)}i.textContent=".animate-in { opacity: 1 !important; transform: translateY(0) !important; }",document.head.appendChild(i);const d=document.querySelectorAll(".stat-value"),u=new IntersectionObserver(t=>{t.forEach(t=>{if(t.isIntersecting){const e=t.target.textContent;-1!==e.indexOf("135")?(t.target.textContent="0 Mds$",l(t.target,135," Mds$")):-1!==e.indexOf("72")&&(t.target.textContent="0%",l(t.target,72,"%")),u.unobserve(t.target)}})},{threshold:.5});d.forEach(t=>u.observe(t));const m=document.querySelectorAll(".tab-btn"),f=document.querySelectorAll(".tab-content");m.forEach(t=>{t.addEventListener("click",function(){const t=this.getAttribute("data-tab");m.forEach(t=>t.classList.remove("active")),f.forEach(t=>t.classList.remove("active")),this.classList.add("active");const e=document.getElementById(t);e&&e.classList.add("active")})});const h=document.querySelector(".dashboard-preview");h&&(h.addEventListener("mouseenter",function(){this.style.transform="rotateY(0) rotateX(0) scale(1.02)"}),h.addEventListener("mouseleave",function(){this.style.transform=""}));const v=document.querySelectorAll(".shape");if(v.length>0){let t=0;const e=16,n=function(n){const o=Date.now();if(o-t<e)return;t=o;const s=n.clientX/window.innerWidth,r=n.clientY/window.innerHeight;v.forEach((t,e)=>{const n=20*(e+1),o=(s-.5)*n,c=(r-.5)*n;t.style.transform="translate("+o+"px, "+c+"px)"})};window.addEventListener("mousemove",n)}console.log("SpendPilot website loaded successfully")});